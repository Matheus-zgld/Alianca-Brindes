<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resgate de Brinde de Fim de Ano</title>
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUa6mY5Y2m0hK3sKk3Y5Q5j5i6Q5Y5Z6I8G7bQ5n6m7s8J9k0v1w2x3y4z5a" crossorigin="anonymous">
    <!-- Bootstrap Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
    <style>
        :root { --primary-color: #000080; --accent: #FFD700; --surface: #ffffff; --muted:#6b6b6b; --text:#121212; }
        * { box-sizing: border-box; }
        body { font-family: 'Inter', system-ui, -apple-system, 'Segoe UI', Roboto, Arial; margin:0; padding:0; background-color: var(--primary-color); color:var(--surface); min-height:100vh; display:flex; flex-direction:column; align-items:center; }
        .logo-wrapper { text-align:center; padding:18px; width:100%; }
        .logo-wrapper img { max-height:86px; display:inline-block; margin:0 auto; }
        .container { background-color: var(--surface); color: var(--text); padding:22px; border-radius:12px; box-shadow:0 8px 30px rgba(2,6,23,0.08); width:95%; max-width:980px; margin:18px auto; margin-bottom:28px; }
        h1,h2,h3 { color:var(--primary-color); text-align:center; margin:8px 0; }
        p { text-align:center; margin:8px 0; color:var(--muted); }
        input[type=text], input[type=date], select { padding:12px; margin:8px 0; border:1px solid #e6e9ee; border-radius:10px; font-size:15px; background:var(--surface); color:var(--text); width:100%; }
        input[type=submit], button { padding:12px 16px; margin:6px 4px; border:none; border-radius:10px; font-size:15px; cursor:pointer; transition:transform .08s ease, box-shadow .12s ease; }
        .btn-primary { background-color: var(--primary-color); color: var(--accent); font-weight:700; box-shadow:0 6px 18px rgba(2,6,23,0.08); }
        .btn-primary:active { transform: translateY(1px); }
        .theme-btn { background:var(--primary-color); color:var(--accent); padding:10px 16px; border-radius:10px; border:none; cursor:pointer; font-weight:700; text-decoration:none; display:inline-block; margin:4px; box-shadow:0 10px 26px rgba(2,6,23,0.06); }
        .error { color:#b00020; font-weight:700; text-align:center; padding:10px; background:#fff0f0; border-radius:6px; margin:10px 0; }
        .success { color:#0b6b2e; font-weight:700; text-align:center; padding:10px; background:#f0fff4; border-radius:6px; margin:10px 0; }
        .qr-box { text-align:center; padding:20px; border-radius:10px; margin-top:18px; background:var(--surface); box-shadow:0 8px 26px rgba(2,6,23,0.04); }
        img.qr-code { max-width:100%; height:auto; display:block; margin:12px auto; }
        .table-wrap { overflow:hidden; margin:16px 0; background:var(--surface); border-radius:10px; box-shadow:0 6px 18px rgba(2,6,23,0.04); }
        .responsive-table { width:100%; border-collapse:collapse; background:var(--surface); color:var(--text); font-size:0.95em; min-width:600px; }
        .responsive-table thead { background-color: rgba(0,0,0,0.04); color:var(--muted); }
        .responsive-table th, .responsive-table td { padding:12px 10px; text-align:left; border-bottom:1px solid #f1f4f7; }
        .responsive-table tbody tr:hover { background-color:#fbfdff; }

        /* Mobile: transform table into stacked cards */
        @media (max-width:768px) {
            .container{ padding:16px; width:96%; }
            .btn-group{ flex-direction:column; gap:10px; }
            .theme-btn, input[type=submit], button{ width:100%; }
            .responsive-table thead { display:none; }
            .responsive-table, .responsive-table tbody, .responsive-table tr, .responsive-table td { display:block; width:100%; }
            .responsive-table tr { margin-bottom:12px; border-radius:8px; box-shadow:0 6px 18px rgba(2,6,23,0.04); background:var(--surface); padding:12px; }
            .responsive-table td { padding:6px 0; border-bottom:none; }
            .responsive-table td::before { content: attr(data-label) ': '; font-weight:700; color:var(--muted); }
        }

        @media (max-width:480px) {
            .container{ padding:12px; border-radius:8px; }
            h2{ font-size:1.05em; }
        }

        .form-inline { display:flex; justify-content:center; flex-wrap:wrap; gap:8px; margin:12px 0; }
        .form-inline input, .form-inline select, .form-inline button { flex:1; min-width:120px; }
        @media (max-width:768px) { .form-inline { flex-direction:column; } }
    </style>
</head>
<body>
        <div class="logo-wrapper"><img src="/imgs/logo.png" alt="Logo"></div>
        <div class="container">
        <!-- content -->
            <h2>üîë √Årea de Baixa (RH)</h2>
    <p style="text-align:center;">Insira o c√≥digo ou use a c√¢mera para dar baixa no brinde.</p>

        <div style="text-align:center; margin-bottom:10px; font-size:0.9em; color: var(--primary-color);"><strong>Conectado como:</strong> rhadmin</div>
    
    <p class="error">Funcion√°rio n√£o encontrado. Verifique a Matr√≠cula e o CPF.</p>
    <div id="reader" style="width:100%; max-width:400px; margin:16px auto;"></div>

    <form method="POST" id="manual-form" style="text-align:center;">
        <label for="qr_data" style="display:block; text-align:left; font-weight:600;">Conte√∫do do QR Code</label>
        <input type="text" id="qr_data" name="qr_data" placeholder="Ex: 00000000000:123456" required>
        <button type="submit" class="btn-primary" style="width:100%; margin-top:8px;">Verificar Brinde</button>
    </form>

    <div class="btn-group" style="margin-top:20px;">
        <a href="/" class="theme-btn">Acesso Funcion√°rio</a>
        <a href="/rh_logs.php" class="theme-btn">Ver Logs</a>
        <a href="/rh_funcionarios.php" class="theme-btn">Verificar Funcion√°rios</a>
        <a href="/rh_logout.php" class="theme-btn" style="background:#c00;">Sair da Conta</a>
    </div>

    <hr style="border-top:1px solid var(--primary-color); margin:20px 0;">

    <h3 style="color:var(--primary-color); margin-top:10px;">‚úÖ Brindes Entregues (5)</h3>

    <div class="table-wrap">
            <table class="responsive-table">
            <thead><tr><th>Nome</th><th>Matr√≠cula</th><th>Data</th><th>Hora</th></tr></thead>
            <tbody>
                        <tr>
                <td data-label="Nome">FRANCISCO JUCEMIR DE SANTANA</td>
                <td data-label="Matr√≠cula">013317</td>
                <td data-label="Data">2025-11-24</td>
                <td data-label="Hora">13:29:00</td>
            </tr>
                        <tr>
                <td data-label="Nome">MONICA MARIA BEZERRA GARCIA</td>
                <td data-label="Matr√≠cula">014639</td>
                <td data-label="Data">2025-11-19</td>
                <td data-label="Hora">10:07:02</td>
            </tr>
                        <tr>
                <td data-label="Nome">JENEBALDO SANTOS DA SILVA</td>
                <td data-label="Matr√≠cula">014685</td>
                <td data-label="Data">2025-11-19</td>
                <td data-label="Hora">09:15:33</td>
            </tr>
                        <tr>
                <td data-label="Nome">CLAUDENICE MOREIRA DOS SANTOS</td>
                <td data-label="Matr√≠cula">014327</td>
                <td data-label="Data">2025-11-17</td>
                <td data-label="Hora">20:31:26</td>
            </tr>
                        <tr>
                <td data-label="Nome">WAGNER DOS SANTOS SILVA</td>
                <td data-label="Matr√≠cula">014128</td>
                <td data-label="Data">2025-11-17</td>
                <td data-label="Hora">19:46:55</td>
            </tr>
                        </tbody>
        </table>
        </div>

    <script src="https://unpkg.com/html5-qrcode/minified/html5-qrcode.min.js"></script>
    <script>
        function onScanSuccess(decodedText, decodedResult) {
            document.getElementById('qr_data').value = decodedText;
            document.getElementById('manual-form').submit();
            html5QrcodeScanner.clear();
        }
        function onScanFailure(error) {}
        let html5QrcodeScanner = new Html5QrcodeScanner("reader", { fps:10, qrbox:{width:250, height:250}, facingMode:"environment" }, false);
        html5QrcodeScanner.render(onScanSuccess, onScanFailure);
    </script>
        </div>
    <!-- Bootstrap JS (optional) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoYz1QZ6q6s9e2g1n6v1xj0y2z3a4b5c6d7e8f9g0h1i2j3" crossorigin="anonymous"></script>
</body>
</html>
